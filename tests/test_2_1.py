# Stepick.org — Python | Вторая ступень | Продвинутые концепции
# 2.  Списки | Тип данных - list
# 2.1 Введение в списки | list() и индексация

import pytest
from src.module_2 import m_2_1_1, m_2_1_2, m_2_1_3

# для запуска pytest -k "test_2_1_" -q -x --tb=short


# === Тест к задаче 1 ===


@pytest.mark.parametrize(
    "data, expected",
    [
        # Тест №1 — данные из условия
        (
            [],
            "\n".join(
                [
                    "70",
                    "[85, 98, 8, 101]",
                    "54",
                    "[85, 98, 8, 101, 39, 85, 28, 98, 51, 63, 24, 12, 70, 87, "
                    "76, 38, 39, 79]",
                    "[28, 98, 51, 63, 24, 12, 70]",
                    "[87, 76, 38, 39, 79, 88, 23, 38, 38, 32, 53, 18, 69, 44,"
                    " 2, 81, 63, 96, 98, 54, 29]",
                ]
            ),
        ),
        # Тест №2 — короткий список
        (
            [1, 2, 3, 4, 5],
            "\n".join(
                [
                    "5",
                    "[1, 2, 3, 4]",
                    "3",
                    "[1, 2, 3, 4, 5]",
                    "[]",
                    "[]",
                ]
            ),
        ),
        # Тест №3 — последовательность чисел
        (
            list(range(1, 25)),
            "\n".join(
                [
                    "24",
                    "[1, 2, 3, 4]",
                    "22",
                    "[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, "
                    "16, 17, 18]",
                    "[7, 8, 9, 10, 11, 12, 13]",
                    "[14, 15, 16, 17, 18, 19, 20, 21, 22, 23]",
                ]
            ),
        ),
    ],
)
def test_2_1_1(data, expected):
    result = m_2_1_1(data)
    assert isinstance(result, str)
    assert result == expected


# === Тест к задаче 2 ===


@pytest.mark.parametrize(
    "data, expected",
    [
        # Тест №1 — пример из условия
        ("фижма", ["ф", "и", "ж", "м", "а"]),
        # Тест №2 — английское слово
        ("hello", ["h", "e", "l", "l", "o"]),
        # Тест №3 — односимвольное слово
        ("a", ["a"]),
        # Тест №4 — пустая строка
        ("", []),
        # Тест №5 — слово со знаком
        ("hi!", ["h", "i", "!"]),
    ],
)
def test_2_1_2(data, expected):
    assert m_2_1_2(data) == expected


# === Тест к задаче 3 ===


@pytest.mark.parametrize(
    "data, expected",
    [
        # Тест №1 — пример из условия (используется встроенный список)
        (
            [],
            # fmt: off
            [58, 8, 101, 98, 51, 63, 24, 12, 70, 87, 76, 38, 39, 79, 88, 23,
             38, 38, 32, 53, 18, 69, 44, 2, 81, 63, 96, 98, 54, 98],
            # fmt: on
        ),
        # Тест №2 — короткий список
        (
            [10, 20, 30, 40, 50, 60, 70],
            [40, 30, 20],
        ),
        # Тест №3 — другой набор чисел
        (
            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
            [18, 3, 4, 8, 2],
        ),
        # Тест №4 — список из 8 элементов (чтобы проверить удаление серединных)
        (
            [3, 6, 9, 12, 15, 18, 21, 24],
            [12, 9, 6],
        ),
        # Тест №5 — минимально возможный список, где можно выполнить операции
        (
            [1, 2, 3, 4, 5, 6, 7],
            [4, 3, 2],
        ),
    ],
)
def test_2_1_3(data, expected):
    assert m_2_1_3(data) == expected
